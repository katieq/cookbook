{% extends 'cooklog/__base.html' %}
{% load humanize %}
{% load static %}

{% block body_block %}

<div class="page-title">
    Search results for "{{query}}":
</div>

<div class="page-subtitle">
    Found {{ dishes|length }} dish{{ dishes|pluralize }}:
</div>

{% for dish in dishes %}
<div class="dish-brief">
    <div class="dish-mini-date-extra-long">
        {{ dish.date_created|date:"D, M-d-Y"|upper }}
    </div>
    <div class="dish-brief-inner">
        <div class="dish-brief-inner-rating">
            {% if dish.dish_rating %}
            {% for i in "x"|rjust:dish.dish_rating %}
            <img src="{% static "emoji/img/star.png" %}" alt="star" height="15"/>
            {% endfor %}
            {% endif %}
        </div>
        <div class="dish-brief-inner-edit">
            <a href="/cooklog/dish/add/{{dish.dish_id}}/"><img src="{% static "emoji/img/edit.png" %}" alt="edit" height="18"/></a>
        </div>
        <div class="dish-brief-inner-recipe">
            <a href="/cooklog/recipe/{{dish.recipe_id_id}}/"><img src="{% static "emoji/img/chef.png" %}" alt="master" height="18"/></a>
        </div>
        <div class="dish-brief-inner-name">
            <a href="/cooklog/dish/{{dish.dish_id}}/">{{ dish.dish_name }}</a>
        </div>
    </div>
</div>
{% empty %}
<div class="page-subtitle">
    No dishes matched your search.
</div>
{% endfor %}

{% if recipes %}
<div class="page-subtitle">
    Found {{ recipes|length }} recipe{{ recipes|pluralize }} matching search:
</div>
{% endif %}

{% for recipe in recipes %}
<div class="dish-brief">
    <div class="dish-brief-inner">
        <div class="dish-brief-inner-name" style="margin-left:280px;">
            <a href="../recipe/{{recipe.recipe_id}}/">{{ recipe.recipe_name }}</a> ({{recipe.recipe_type}})
        </div>
    </div>
</div>
{% empty %}
<div class="page-subtitle">
    No recipes matched your search.
</div>
{% endfor %}

{% if chefs %}
<div class="page-subtitle">
    Found {{ chefs|length }} chef{{ chefs|pluralize }} matching search:
</div>
{% endif %}

{% for chef in chefs %}
<div class="dish-brief">
    <div class="dish-brief-inner">
        <div class="dish-brief-inner-name" style="margin-left:280px;">
            <a href="../chef/{{chef.chef_id}}/">{{ chef.first_name }} {{ chef.last_name.0}}</a>
        </div>
    </div>
</div>
{% empty %}
<div class="page-subtitle">
    No chefs matched your search.
</div>
{% endfor %}

{% endblock %}
